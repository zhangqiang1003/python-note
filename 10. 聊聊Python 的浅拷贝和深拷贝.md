[TOC]

### 1. 浅拷贝
#### (1) 概念：
* **浅拷贝是对象的外层拷贝，即只进行第一层拷贝**
#### (2) 哪些是浅拷贝？
* `copy.copy()`
```python
'''1.  copy.copy()'''
import copy
a = [1, 2]
b = [2, 4]

c = [a, b]

d = copy.copy(c)

print(id(a)) # 2068121468488

print(id(b)) # 2068121468680

print(id(c)) # 2068121588808

print(id(d)) # 2068121588744 # 与 id(c) 不同，说明c最外层被拷贝，发生了浅拷贝

print(id(d[0])) # 2068121468488  ---> 与a相同

print(id(d[1])) # 2068121468680  ---> 与b相同

print(a) # [1, 2]
d[0].append(55)
print(a) # [1, 2, 55]
```

* `切片`
```python
'''2.  切片'''
a = [1,2,3]
b = [4,5,6]
c = [7,8,9]

list1 = [a, b, c]
list2 = list1[:2]

print(id(a) == id(list2[0])) # True
print(id(b) == id(list2[1])) # True

a.append(99)

print(list2[0]) # [1,2,3,99]
```

* `list()` 即使最外围是元组，也会进行浅拷贝，转为列表类型

```python
'''3.  list() 即使最外围是元组，也会进行浅拷贝，转为列表类型'''
a = [1,66,3]
b = [5,1,9,10]
tuple1 = (a, b)

list1 = list(tuple1)

print(id(a)) # 2430692253000
print(id(b)) # 2430692283400

print(id(tuple1)) # 2430692301000
print(id(tuple1[0])) # 2430692253000

print(id(list1)) # 2430692301192
print(id(list1[0])) # 2430692253000  --> 与 id(a) 相等，说明list1[0] 和 a 是指向同一内存空间。

a.append(999) # 
print(list1[0])  # [1,66,3,999]  给a添加一个元素999，list1[0]也跟随发生变化，如下这也直接说明了list1[0] 和 a 是指向同一内存地址
```

### 2. 深拷贝
#### (1) 概念：
* **深拷贝是对外层和内部元素都进行拷贝,拷贝完成后会开辟新的内存空间存储对应的数据**
* 通俗解释：深拷贝 就是完全拷贝一组只是长得像，但本质却完全不一样的新数据，因为是完全开辟了一组新的内存空间来存储对应数据。
* demo举例：
```python
import copy
a = [1,2,3,5]
b = [2,3,51,2]
c = [a,b]

d = copy.deepcopy(c)
print(id(c) == id(d)) # False
print(id(a) == id(d[0])) # False
print(id(b) == id(d[1])) # False

a.append(99)
print(d[0]) # [1,2,3,5] --> 这就说明 d[0] 和 a 不再是指向同一内存空间。d[0] 也就是对a所指向的内存地址的一次拷贝的新的内存地址的指向。
```

### 3. 元组的浅拷贝和深拷贝
* 元组是不可变类型，但是元素的元素却可以是任意类型的数据，因此对元组的拷贝还具有可讨论性。
* **情形一:**元组的各组成元素均是不可变元素，那么，对该元组的深、浅拷贝均是普通的赋值行为。
```python
import copy()
a = (1,2,3,4,'a')

b = copy.copy(a)
print(a is b) # True -> 为True说明b 和a 是指向同一内存地址

c = copy.deepcopy(a)
print(c is a) # True -> 为True说明a 和a 是指向同一内存地址

'''因此，有上述结论：元组的各组成元素均是不可变元素，那么，对该元组的深、浅拷贝均是普通的赋值行为'''
```

* **情形二:**元素的组成元素包含可变元素，那么，对该元组的深、浅拷贝均有正常的深、浅拷贝的特点。代码解释略。

[回到顶部](#back-top)

